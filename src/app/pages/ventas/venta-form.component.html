<button class="btn" (click)="open.set(true)" [disabled]="data.mode() === 'csv'">Nueva venta</button>

<div *ngIf="open()" class="card" style="margin-top:12px;">
  <form (ngSubmit)="submit()">
    <div style="display:grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap:12px;">
      <label>Fecha <input type="date" [(ngModel)]="model.fecha" name="fecha" required /></label>
      <label>Cliente <input type="text" [(ngModel)]="model.cliente" name="cliente" required /></label>
      <label>Producto <input type="text" [(ngModel)]="model.producto" name="producto" required /></label>
      <label>Cantidad <input type="number" [(ngModel)]="model.cantidad" name="cantidad" min="1" required /></label>
      <label>Precio <input type="number" [(ngModel)]="model.precio" name="precio" min="0" step="0.01" required /></label>
    </div>
    <div style="margin-top:12px; display:flex; gap:8px;">
      <button class="btn" type="submit">Guardar</button>
      <button class="btn secondary" type="button" (click)="open.set(false)">Cancelar</button>
    </div>
  </form>
  <div style="color:var(--muted); margin-top:8px;" *ngIf="data.mode() === 'csv'">
    Modo CSV: solo lectura (deshabilitado crear/editar/eliminar)
  </div>
  <div style="color:var(--muted); margin-top:8px;" *ngIf="data.mode() === 'api'">
    Usando API de Google Apps Script
  </div>
  <div style="color:var(--muted); margin-top:8px;" *ngIf="data.mode() === 'mock'">
    Usando datos locales de ejemplo
  </div>
  
</div>

